<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Faster to use CDN -->

    <!-- Bootstrap 4 + DataTable -->
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/bs4-4.1.1/jq-3.3.1/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sl-1.3.1/datatables.min.css"/>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript"
            src="https://cdn.datatables.net/v/bs4-4.1.1/jq-3.3.1/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sl-1.3.1/datatables.min.js"></script>


    <!-- Foundation + DataTable
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/zf-6.4.3/jq-3.3.1/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sl-1.3.1/datatables.min.css"/>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript"
            src="https://cdn.datatables.net/v/zf-6.4.3/jq-3.3.1/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sl-1.3.1/datatables.min.js"></script>
    -->

    <script>
        $(document).ready(function () {
            $('#tagList').DataTable({
                sScrollX: "100%",
                sScrollXInner: "100%",
                scrollY: 400,
                scrollCollapse: true,
                dom: 'Bfrtip',
                pageLength: 100,
                buttons: [
                    {
                        extend: 'copyHtml5',
                        exportOptions: {
                            columns: [0, ':visible']
                        }
                    },
                    {
                        extend: 'excelHtml5',
                        exportOptions: {
                            columns: ':visible'
                        }
                    },
                    {
                        extend: 'csvHtml5',
                        fieldBoundary: '"',
                        exportOptions: {
                            columns: [0, 1, 2, 5]
                        }
                    },
                    'colvis'
                ]
            });
            $(document).ready(function () {
                $('select[name="tag_option_0"]').change(function () {
                    $('input[name="prefix_0"]').prop('hidden', this.value == 'null' ? true : false);
                    $('input[name="prefix_0"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="suffix_0"]').prop('hidden', this.value == 'null' ? true : false);
                    $('input[name="suffix_0"]').prop('disabled', this.value == 'null' ? true : false);
                    $('select[name="tag_option_1"]').prop('disabled', this.value == 'null' ? true : false);
                    $('#tag_section_1').prop('hidden', this.value == 'null' ? true : false);
                    $('select[name="tag_option_1"]').val(function () {
                        if (this.value == 'null') {
                            return 'null';
                        } else {
                            return $('select[name="tag_option_1"]').val();
                        }
                    });
                    if ($('select[name="tag_option_1"]').val() == 'null') {
                        $('select[name="tag_option_2"]').prop('disabled', true);
                        $('#tag_section_2').prop('hidden', true);
                        $('select[name="tag_option_2"]').val('null');
                        if ($('select[name="tag_option_2"]').val() == 'null') {
                            $('select[name="tag_option_3"]').prop('disabled', true);
                            $('#tag_section_3').prop('hidden', true);
                            $('select[name="tag_option_3"]').val('null');
                            if ($('select[name="tag_option_3"]').val() == 'null') {
                                $('select[name="tag_option_4"]').prop('disabled', true);
                                $('#tag_section_4').prop('hidden', true);
                                $('select[name="tag_option_4"]').val('null');
                            }
                        }
                    }
                });
                $('select[name="tag_option_1"]').change(function () {
                    $('select[name="tag_option_2"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="prefix_1"]').prop('hidden', this.value == 'null' ? true : false);
                    $('input[name="prefix_1"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="suffix_1"]').prop('hidden', this.value == 'null' ? true : false);
                    $('input[name="suffix_1"]').prop('disabled', this.value == 'null' ? true : false);
                    $('#tag_section_2').prop('hidden', this.value == 'null' ? true : false);
                    $('select[name="tag_option_2"]').val(function () {
                        if (this.value == 'null') {
                            return 'null'
                        } else {
                            return $('select[name="tag_option_1"]').val();
                        }
                    });
                    if ($('select[name="tag_option_2"]').val() == 'null') {
                        $('select[name="tag_option_3"]').prop('disabled', true);
                        $('#tag_section_3').prop('hidden', true);
                        $('select[name="tag_option_3"]').val('null');
                        if ($('select[name="tag_option_3"]').val() == 'null') {
                            $('select[name="tag_option_4"]').prop('disabled', true);
                            $('#tag_section_4').prop('hidden', true);
                            $('select[name="tag_option_4"]').val('null');
                        }
                    }
                });
                $('select[name="tag_option_2"]').change(function () {
                    $('select[name="tag_option_3"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="prefix_2"]').prop('hidden', this.value == 'null' ? true : false);
                    $('input[name="prefix_2"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="suffix_2"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="suffix_2"]').prop('hidden', this.value == 'null' ? true : false);
                    $('#tag_section_3').prop('hidden', this.value == 'null' ? true : false);
                    $('select[name="tag_option_3"]').val(function () {
                        if (this.value == 'null') {
                            return 'null'
                        } else {
                            return $('select[name="tag_option_1"]').val();
                        }
                    });
                    if ($('select[name="tag_option_3"]').val() == 'null') {
                        $('select[name="tag_option_4"]').prop('disabled', true);
                        $('#tag_section_4').prop('hidden', true);
                        $('select[name="tag_option_4"]').val('null');
                        if ($('select[name="tag_option_4"]').val() == 'null') {
                            $('select[name="tag_option_5"]').prop('disabled', true);
                            $('#tag_section_5').prop('hidden', true);
                            $('select[name="tag_option_5"]').val('null');
                        }
                    }
                });
                $('select[name="tag_option_3"]').change(function () {
                    $('select[name="tag_option_4"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="prefix_3"]').prop('hidden', this.value == 'null' ? true : false);
                    $('input[name="prefix_3"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="suffix_3"]').prop('disabled', this.value == 'null' ? true : false);
                    $('input[name="suffix_3"]').prop('hidden', this.value == 'null' ? true : false);
                    $('#tag_section_4').prop('hidden', this.value == 'null' ? true : false);
                    $('select[name="tag_option_4"]').val(function () {
                        if (this.value == 'null'){
                            return 'null'
                        } else {
                            return $('select[name="tag_option_1"]').val();
                        }
                    });
                });
            });
        });
    </script>
    <title>PagerDuty ADAPT</title>
</head>

<body>
{% block content %}
{% endblock %}


</body>

</html>